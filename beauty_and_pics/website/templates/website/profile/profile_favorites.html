{% extends "website/inc/base_profile.html" %}
{% load staticfiles %}

{% block title %}Beauty and Pics | profilo index{% endblock %}

{% block description %}Beauty and Pics: pagina index profilo{% endblock %}

{% block block0_1_title_h1 %}<b>123</b> giorni <b>6</b> ore <b>33</b> minuti{% endblock %}
{% block block0_1_title_h4 %}alla scadenza del concorso{% endblock %}

{% block container4_title %}{% endblock %}

{# navigation tabs active element #}
{% block container4_navigation_profile_favorites %}active{% endblock %}

{% block container4_content %}
<div class="row">
	<div class="col-sm-12">
		<h3>I miei preferiti</h3>
	</div>
	<div class="col-sm-12">
		<div class="alert alert-info">
			<p>Best check yo self, you're not looking too good. Nulla vitae elit libero, a pharetra augue. Praesent commodo cursus magna, <a href="#" class="alert-link">vel scelerisque nisl consectetur et</a>.</p>
		</div>
	</div>
</div>
<div class="manage_buttons_container">
	<div class="manage_buttons_block1 text-center">Con i selezionati:</div>
	<div class="manage_buttons_block2 text-center">
		<button class="btn btn-success" type="button">Elimina</button>
	</div>
	<div class="manage_buttons_block3 text-center">
		<a href="#">annulla selezione</a>
	</div>
</div>
<div id="container">
	<div class="grid-sizer"></div>
</div>
<p><button id="load-images">Load images</button></p>
{% endblock container4_content %}

{% block custom_js %}
<script>
$(document).ready(function(){
	var $container = $('#container').masonry({
		itemSelector: '.item',
		columnWidth: '.grid-sizer'
	});

	$('#load-images').click( function() {
		var $items = getItems();
		$container.masonryImagesReveal( $items );
	});
});

$.fn.masonryImagesReveal = function( $items ) {
	var msnry = this.data('masonry');
	var itemSelector = msnry.options.itemSelector;
	// hide by default
	$items.hide();
	// append to container
	this.append( $items );
	$items.imagesLoaded().progress( function( imgLoad, image ) {
		// get item
		// image is imagesLoaded class, not <img>, <img> is image.img
		var $item = $( image.img ).parents( itemSelector );
		// un-hide item
		$item.show();
		// masonry does its thing
		msnry.appended( $item );
	});

	return this;
};

function randomInt( min, max ) {
	return Math.floor( Math.random() * max + min );
}

function getItem() {
	var format = randomInt( 150, 250 );
	var width = format;
	var height = format;
	var item = '<div class="item">'+
	'<img src="http://lorempixel.com/' + 
	width + '/' + height + '/nature" /></div>';
	return item;
}

function getItems() {
	var items = '';
	for ( var i=0; i < 12; i++ ) {
		items += getItem();
	}
	// return jQuery object
	return $( items );
}
</script>
{% endblock custom_js %}
