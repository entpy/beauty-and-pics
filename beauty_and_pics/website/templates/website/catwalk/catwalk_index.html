{% extends "website/inc/base_catwalk.html" %}
{% load staticfiles %}

{% block title %}{{ site_name }} | la passerella{% endblock title %}

{% block description %}La passerella: qui puoi trovare l'elenco di tutti i modelli e le modelle, vota quelli che preferisci.{% endblock description %}

{% block container4_title %}La passerella{% endblock container4_title %}

{% block return_to_catwalk_block %}{% endblock return_to_catwalk_block %}
{% block catwalk_banner %}{% endblock catwalk_banner %}

{% block catwalk_tip %}
<div class="generic_container tip_container display_only_big">
	<div class="title">
		<h4>La passerella</h4>
	</div>
	<div class="tip_readable_text">
	    Ciao e benvenuta/o nella passerella, qui puoi trovare tutti i partecipanti di {{ site_name }}. Vota i tuoi preferiti!
	</div>
</div>
{% endblock catwalk_tip %}

{% block container4_content %}
<div class="row">
	<div class="col-sm-12">
		<ul class="nav nav-pills">
			<li class="active setFilterAction" data-list-type="catwalker" data-filter-name="latest_registered" data-toggle="tooltip" data-placement="top" data-original-title="Lista di tutti i partecipanti ordinata dal più recente"><a href="#">Le new entry</a></li>
			<li class="setFilterAction" data-list-type="last_upload" data-toggle="tooltip" data-placement="top" data-original-title="Le ultime immagini caricate nei book fotografici"><a href="#">Ultimi caricamenti</a></li>
			<li class="setFilterAction" data-list-type="catwalker" data-filter-name="classification"><a href="#">La classifica</a></li>
			<li class="setFilterAction" data-list-type="catwalker" data-filter-name="most_beautiful_smile"><a href="#">Il sorriso più bello</a></li>
			<li class="setFilterAction" data-list-type="catwalker" data-filter-name="look_more_beautiful"><a href="#">Lo sguardo più bello</a></li>
		</ul>
	</div>
</div>
{# image grid block {{{ #}
<div class="row">
	<div class="col-sm-12 margin_top_15 image_grid_container"></div>
</div>
{# image grid block }}} #}
<div class="text-center">
	<a class="btn btn-success loadMoreElementsAction" href="#">Mostra altri</a>
</div>
{% endblock container4_content %}

{% block custom_js %}
{{ block.super }}
<script>
	elementsListObject.setElementsPerCall(20);
	$(document).ready(function(){
		$('[data-toggle="tooltip"]').tooltip();

		// bootstrap modal on favorite click
		$("body").on("click",".zoom-image", function(){
			var userId = "";
			if ($(this).attr("data-image-id")) {
				userId = $(this).data("imageId");
			}

			// ajax call to retrieve user info and open bootstrap modal
			retrieveUserInfo(userId);

			return false;
		});

		$("body").on("click",".setFilterAction", function(){
			$(".setFilterAction").removeClass("active");
			$(this).addClass("active");
			elementsListObject.newElementList();
			elementsListObject.setElementsPerCall(5);
			$(".loadMoreElementsAction").click();

			return false;
		});

		$(".loadMoreElementsAction").click(function(){
			elementsListObject.setElementsListType($(".setFilterAction.active").data("listType"));
			elementsListObject.addFilter("filter_name", $(".setFilterAction.active").data("filterName"));
			elementsListObject.getElementsList();

			return false;
		});

		$(".loadMoreElementsAction").click();
	});
</script>
{% endblock custom_js %}
